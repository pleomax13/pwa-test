import{d as j,s as $,g as Q,x as Z,y as ie,o as T,c as W,e as D,j as G,t as F,_ as U,u as se,z as ne,F as ee,p as ae,h as B,q as re,a as V,b as X}from"./index-vqFVyF1L.js";import{s as oe}from"./symbolsContent-AhN5mX7D.js";import{_ as le}from"./UiSvgIcon.vue_vue_type_script_setup_true_lang-7JPLBw4S.js";import{f as ce}from"./formatSecond-BzP_z2hi.js";import{m as R,e as de,a as Y,c as he,b as ue,S as pe,N as me,_ as fe}from"./navigation-UVDWTCvB.js";function O(p){return p===void 0&&(p=""),`.${p.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ge(p){let{swiper:e,extendParams:t,on:i,emit:a}=p;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:s=>s,formatFractionTotal:s=>s,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,c=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(s,n){const{bulletActiveClass:h}=e.params.pagination;s&&(s=s[`${n==="prev"?"previous":"next"}ElementSibling`],s&&(s.classList.add(`${h}-${n}`),s=s[`${n==="prev"?"previous":"next"}ElementSibling`],s&&s.classList.add(`${h}-${n}-${n}`)))}function l(s){const n=s.target.closest(O(e.params.pagination.bulletClass));if(!n)return;s.preventDefault();const h=Y(n)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===h)return;e.slideToLoop(h)}else e.slideTo(h)}function m(){const s=e.rtl,n=e.params.pagination;if(u())return;let h=e.pagination.el;h=R(h);let g,C;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,g=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(g=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,g=e.activeIndex||0),n.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const b=e.pagination.bullets;let E,x,I;if(n.dynamicBullets&&(o=de(b[0],e.isHorizontal()?"width":"height",!0),h.forEach(_=>{_.style[e.isHorizontal()?"width":"height"]=`${o*(n.dynamicMainBullets+4)}px`}),n.dynamicMainBullets>1&&C!==void 0&&(c+=g-(C||0),c>n.dynamicMainBullets-1?c=n.dynamicMainBullets-1:c<0&&(c=0)),E=Math.max(g-c,0),x=E+(Math.min(b.length,n.dynamicMainBullets)-1),I=(x+E)/2),b.forEach(_=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(L=>`${n.bulletActiveClass}${L}`)].map(L=>typeof L=="string"&&L.includes(" ")?L.split(" "):L).flat();_.classList.remove(...P)}),h.length>1)b.forEach(_=>{const P=Y(_);P===g?_.classList.add(...n.bulletActiveClass.split(" ")):e.isElement&&_.setAttribute("part","bullet"),n.dynamicBullets&&(P>=E&&P<=x&&_.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),P===E&&d(_,"prev"),P===x&&d(_,"next"))});else{const _=b[g];if(_&&_.classList.add(...n.bulletActiveClass.split(" ")),e.isElement&&b.forEach((P,L)=>{P.setAttribute("part",L===g?"bullet-active":"bullet")}),n.dynamicBullets){const P=b[E],L=b[x];for(let N=E;N<=x;N+=1)b[N]&&b[N].classList.add(...`${n.bulletActiveClass}-main`.split(" "));d(P,"prev"),d(L,"next")}}if(n.dynamicBullets){const _=Math.min(b.length,n.dynamicMainBullets+4),P=(o*_-o)/2-I*o,L=s?"right":"left";b.forEach(N=>{N.style[e.isHorizontal()?L:"top"]=`${P}px`})}}h.forEach((b,E)=>{if(n.type==="fraction"&&(b.querySelectorAll(O(n.currentClass)).forEach(x=>{x.textContent=n.formatFractionCurrent(g+1)}),b.querySelectorAll(O(n.totalClass)).forEach(x=>{x.textContent=n.formatFractionTotal(A)})),n.type==="progressbar"){let x;n.progressbarOpposite?x=e.isHorizontal()?"vertical":"horizontal":x=e.isHorizontal()?"horizontal":"vertical";const I=(g+1)/A;let _=1,P=1;x==="horizontal"?_=I:P=I,b.querySelectorAll(O(n.progressbarFillClass)).forEach(L=>{L.style.transform=`translate3d(0,0,0) scaleX(${_}) scaleY(${P})`,L.style.transitionDuration=`${e.params.speed}ms`})}n.type==="custom"&&n.renderCustom?(b.innerHTML=n.renderCustom(e,g+1,A),E===0&&a("paginationRender",b)):(E===0&&a("paginationRender",b),a("paginationUpdate",b)),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](n.lockClass)})}function f(){const s=e.params.pagination;if(u())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let h=e.pagination.el;h=R(h);let g="";if(s.type==="bullets"){let C=e.params.loop?Math.ceil(n/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>n&&(C=n);for(let M=0;M<C;M+=1)s.renderBullet?g+=s.renderBullet.call(e,M,s.bulletClass):g+=`<${s.bulletElement} ${e.isElement?'part="bullet"':""} class="${s.bulletClass}"></${s.bulletElement}>`}s.type==="fraction"&&(s.renderFraction?g=s.renderFraction.call(e,s.currentClass,s.totalClass):g=`<span class="${s.currentClass}"></span> / <span class="${s.totalClass}"></span>`),s.type==="progressbar"&&(s.renderProgressbar?g=s.renderProgressbar.call(e,s.progressbarFillClass):g=`<span class="${s.progressbarFillClass}"></span>`),e.pagination.bullets=[],h.forEach(C=>{s.type!=="custom"&&(C.innerHTML=g||""),s.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(O(s.bulletClass)))}),s.type!=="custom"&&a("paginationRender",h[0])}function v(){e.params.pagination=he(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const s=e.params.pagination;if(!s.el)return;let n;typeof s.el=="string"&&e.isElement&&(n=e.el.querySelector(s.el)),!n&&typeof s.el=="string"&&(n=[...document.querySelectorAll(s.el)]),n||(n=s.el),!(!n||n.length===0)&&(e.params.uniqueNavElements&&typeof s.el=="string"&&Array.isArray(n)&&n.length>1&&(n=[...e.el.querySelectorAll(s.el)],n.length>1&&(n=n.filter(h=>ue(h,".swiper")[0]===e.el)[0])),Array.isArray(n)&&n.length===1&&(n=n[0]),Object.assign(e.pagination,{el:n}),n=R(n),n.forEach(h=>{s.type==="bullets"&&s.clickable&&h.classList.add(...(s.clickableClass||"").split(" ")),h.classList.add(s.modifierClass+s.type),h.classList.add(e.isHorizontal()?s.horizontalClass:s.verticalClass),s.type==="bullets"&&s.dynamicBullets&&(h.classList.add(`${s.modifierClass}${s.type}-dynamic`),c=0,s.dynamicMainBullets<1&&(s.dynamicMainBullets=1)),s.type==="progressbar"&&s.progressbarOpposite&&h.classList.add(s.progressbarOppositeClass),s.clickable&&h.addEventListener("click",l),e.enabled||h.classList.add(s.lockClass)}))}function y(){const s=e.params.pagination;if(u())return;let n=e.pagination.el;n&&(n=R(n),n.forEach(h=>{h.classList.remove(s.hiddenClass),h.classList.remove(s.modifierClass+s.type),h.classList.remove(e.isHorizontal()?s.horizontalClass:s.verticalClass),s.clickable&&(h.classList.remove(...(s.clickableClass||"").split(" ")),h.removeEventListener("click",l))})),e.pagination.bullets&&e.pagination.bullets.forEach(h=>h.classList.remove(...s.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const s=e.params.pagination;let{el:n}=e.pagination;n=R(n),n.forEach(h=>{h.classList.remove(s.horizontalClass,s.verticalClass),h.classList.add(e.isHorizontal()?s.horizontalClass:s.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?S():(v(),f(),m())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),i("snapIndexChange",()=>{m()}),i("snapGridLengthChange",()=>{f(),m()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:s}=e.pagination;s&&(s=R(s),s.forEach(n=>n.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{m()}),i("click",(s,n)=>{const h=n.target,g=R(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&g&&g.length>0&&!h.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&h===e.navigation.nextEl||e.navigation.prevEl&&h===e.navigation.prevEl))return;const C=g[0].classList.contains(e.params.pagination.hiddenClass);a(C===!0?"paginationShow":"paginationHide"),g.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:s}=e.pagination;s&&(s=R(s),s.forEach(n=>n.classList.remove(e.params.pagination.paginationDisabledClass))),v(),f(),m()},S=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:s}=e.pagination;s&&(s=R(s),s.forEach(n=>n.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:k,disable:S,render:f,update:m,init:v,destroy:y})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function w(p,e,t,i){return new(t||(t=Promise))(function(a,r){function o(d){try{u(i.next(d))}catch(l){r(l)}}function c(d){try{u(i.throw(d))}catch(l){r(l)}}function u(d){var l;d.done?a(d.value):(l=d.value,l instanceof t?l:new t(function(m){m(l)})).then(o,c)}u((i=i.apply(p,e||[])).next())})}class H{constructor(){this.listeners={}}on(e,t,i){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),i==null?void 0:i.once){const a=()=>{this.un(e,a),this.un(e,t)};return this.on(e,a),a}return()=>this.un(e,t)}un(e,t){var i;(i=this.listeners[e])===null||i===void 0||i.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(i=>i(...t))}}const J={decode:function(p,e){return w(this,void 0,void 0,function*(){const t=new AudioContext({sampleRate:e});return t.decodeAudioData(p).finally(()=>t.close())})},createBuffer:function(p,e){return typeof p[0]=="number"&&(p=[p]),function(t){const i=t[0];if(i.some(a=>a>1||a<-1)){const a=i.length;let r=0;for(let o=0;o<a;o++){const c=Math.abs(i[o]);c>r&&(r=c)}for(const o of t)for(let c=0;c<a;c++)o[c]/=r}}(p),{duration:e,length:p[0].length,sampleRate:p[0].length/e,numberOfChannels:p.length,getChannelData:t=>p==null?void 0:p[t],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function te(p,e){const t=e.xmlns?document.createElementNS(e.xmlns,p):document.createElement(p);for(const[i,a]of Object.entries(e))if(i==="children")for(const[r,o]of Object.entries(e))typeof o=="string"?t.appendChild(document.createTextNode(o)):t.appendChild(te(r,o));else i==="style"?Object.assign(t.style,a):i==="textContent"?t.textContent=a:t.setAttribute(i,a.toString());return t}function K(p,e,t){const i=te(p,e||{});return t==null||t.appendChild(i),i}var ve=Object.freeze({__proto__:null,createElement:K,default:K});const ye={fetchBlob:function(p,e,t){return w(this,void 0,void 0,function*(){const i=yield fetch(p,t);if(i.status>=400)throw new Error(`Failed to fetch ${p}: ${i.status} (${i.statusText})`);return function(a,r){w(this,void 0,void 0,function*(){if(!a.body||!a.headers)return;const o=a.body.getReader(),c=Number(a.headers.get("Content-Length"))||0;let u=0;const d=m=>w(this,void 0,void 0,function*(){u+=(m==null?void 0:m.length)||0;const f=Math.round(u/c*100);r(f)}),l=()=>w(this,void 0,void 0,function*(){let m;try{m=yield o.read()}catch{return}m.done||(d(m.value),yield l())});l()})}(i.clone(),e),i.blob()})}};class be extends H{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onceMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)})}onMediaEvent(e,t,i){return this.media.addEventListener(e,t,i),()=>this.media.removeEventListener(e,t)}onceMediaEvent(e,t){return this.onMediaEvent(e,t,{once:!0})}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,t){if(this.getSrc()===e)return;this.revokeSrc();const i=t instanceof Blob&&this.canPlayType(t.type)?URL.createObjectURL(t):e;this.media.src=i}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return w(this,void 0,void 0,function*(){if(this.media.src)return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=e}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,t){t!=null&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}class q extends H{constructor(e,t){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.options=e;const i=this.parentFromOptionsContainer(e.container);this.parent=i;const[a,r]=this.initHtml();i.appendChild(a),this.container=a,this.scrollContainer=r.querySelector(".scroll"),this.wrapper=r.querySelector(".wrapper"),this.canvasWrapper=r.querySelector(".canvases"),this.progressWrapper=r.querySelector(".progress"),this.cursor=r.querySelector(".cursor"),t&&r.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if(typeof e=="string"?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){const e=i=>{const a=this.wrapper.getBoundingClientRect(),r=i.clientX-a.left,o=i.clientX-a.left;return[r/a.width,o/a.height]};this.wrapper.addEventListener("click",i=>{const[a,r]=e(i);this.emit("click",a,r)}),this.wrapper.addEventListener("dblclick",i=>{const[a,r]=e(i);this.emit("dblclick",a,r)}),this.options.dragToSeek&&this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:i,scrollWidth:a,clientWidth:r}=this.scrollContainer,o=i/a,c=(i+r)/a;this.emit("scroll",o,c)});const t=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{t().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender())}initDrag(){(function(e,t,i,a,r=3,o=0){if(!e)return()=>{};let c=()=>{};const u=d=>{if(d.button!==o)return;d.preventDefault(),d.stopPropagation();let l=d.clientX,m=d.clientY,f=!1;const v=n=>{n.preventDefault(),n.stopPropagation();const h=n.clientX,g=n.clientY,C=h-l,M=g-m;if(f||Math.abs(C)>r||Math.abs(M)>r){const A=e.getBoundingClientRect(),{left:b,top:E}=A;f||(i==null||i(l-b,m-E),f=!0),t(C,M,h-b,g-E),l=h,m=g}},y=()=>{f&&(a==null||a()),c()},k=n=>{n.relatedTarget&&n.relatedTarget!==document.documentElement||y()},S=n=>{f&&(n.stopPropagation(),n.preventDefault())},s=n=>{f&&n.preventDefault()};document.addEventListener("pointermove",v),document.addEventListener("pointerup",y),document.addEventListener("pointerout",k),document.addEventListener("pointercancel",k),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("click",S,{capture:!0}),c=()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",k),document.removeEventListener("pointercancel",k),document.removeEventListener("touchmove",s),setTimeout(()=>{document.removeEventListener("click",S,{capture:!0})},10)}};e.addEventListener("pointerdown",u)})(this.wrapper,(e,t,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))},()=>this.isDragging=!0,()=>this.isDragging=!1)}getHeight(e){return e==null?128:isNaN(Number(e))?e==="auto"&&this.parent.clientHeight||128:Number(e)}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"});return t.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}e.dragToSeek&&!this.options.dragToSeek&&this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:t}=this.scrollContainer,i=t*e;this.setScroll(i)}destroy(){var e;this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect()}createDelay(e=10){let t,i;const a=()=>{t&&clearTimeout(t),i&&i()};return this.timeouts.push(a),()=>new Promise((r,o)=>{a(),i=o,t=setTimeout(()=>{t=void 0,i=void 0,r()},e)})}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const t=document.createElement("canvas"),i=t.getContext("2d"),a=t.height*(window.devicePixelRatio||1),r=i.createLinearGradient(0,0,0,a),o=1/(e.length-1);return e.forEach((c,u)=>{const d=u*o;r.addColorStop(d,c)}),r}renderBarWaveform(e,t,i,a){const r=e[0],o=e[1]||e[0],c=r.length,{width:u,height:d}=i.canvas,l=d/2,m=window.devicePixelRatio||1,f=t.barWidth?t.barWidth*m:1,v=t.barGap?t.barGap*m:t.barWidth?f/2:0,y=t.barRadius||0,k=u/(f+v)/c,S=y&&"roundRect"in i?"roundRect":"rect";i.beginPath();let s=0,n=0,h=0;for(let g=0;g<=c;g++){const C=Math.round(g*k);if(C>s){const b=Math.round(n*l*a),E=b+Math.round(h*l*a)||1;let x=l-b;t.barAlign==="top"?x=0:t.barAlign==="bottom"&&(x=d-E),i[S](s*(f+v),x,f,E,y),s=C,n=0,h=0}const M=Math.abs(r[g]||0),A=Math.abs(o[g]||0);M>n&&(n=M),A>h&&(h=A)}i.fill(),i.closePath()}renderLineWaveform(e,t,i,a){const r=o=>{const c=e[o]||e[0],u=c.length,{height:d}=i.canvas,l=d/2,m=i.canvas.width/u;i.moveTo(0,l);let f=0,v=0;for(let y=0;y<=u;y++){const k=Math.round(y*m);if(k>f){const s=l+(Math.round(v*l*a)||1)*(o===0?-1:1);i.lineTo(f,s),f=k,v=0}const S=Math.abs(c[y]||0);S>v&&(v=S)}i.lineTo(f,l)};i.beginPath(),r(0),r(1),i.fill(),i.closePath()}renderWaveform(e,t,i){if(i.fillStyle=this.convertColorValues(t.waveColor),t.renderFunction)return void t.renderFunction(e,i);let a=t.barHeight||1;if(t.normalize){const r=Array.from(e[0]).reduce((o,c)=>Math.max(o,Math.abs(c)),0);a=r?1/r:1}t.barWidth||t.barGap||t.barAlign?this.renderBarWaveform(e,t,i,a):this.renderLineWaveform(e,t,i,a)}renderSingleCanvas(e,t,i,a,r,o,c,u){const d=window.devicePixelRatio||1,l=document.createElement("canvas"),m=e[0].length;l.width=Math.round(i*(o-r)/m),l.height=a*d,l.style.width=`${Math.floor(l.width/d)}px`,l.style.height=`${a}px`,l.style.left=`${Math.floor(r*i/d/m)}px`,c.appendChild(l);const f=l.getContext("2d");if(this.renderWaveform(e.map(v=>v.slice(r,o)),t,f),l.width>0&&l.height>0){const v=l.cloneNode(),y=v.getContext("2d");y.drawImage(l,0,0),y.globalCompositeOperation="source-in",y.fillStyle=this.convertColorValues(t.progressColor),y.fillRect(0,0,l.width,l.height),u.appendChild(v)}}renderChannel(e,t,i){return w(this,void 0,void 0,function*(){const a=document.createElement("div"),r=this.getHeight(t.height);a.style.height=`${r}px`,this.canvasWrapper.style.minHeight=`${r}px`,this.canvasWrapper.appendChild(a);const o=a.cloneNode();this.progressWrapper.appendChild(o);const c=e[0].length,u=(s,n)=>{this.renderSingleCanvas(e,t,i,r,Math.max(0,s),Math.min(n,c),a,o)};if(!this.isScrollable)return void u(0,c);const{scrollLeft:d,scrollWidth:l,clientWidth:m}=this.scrollContainer,f=c/l;let v=Math.min(q.MAX_CANVAS_WIDTH,m);if(t.barWidth||t.barGap){const s=t.barWidth||.5,n=s+(t.barGap||s/2);v%n!=0&&(v=Math.floor(v/n)*n)}const y=Math.floor(Math.abs(d)*f),k=Math.floor(y+v*f),S=k-y;S<=0||(u(y,k),yield Promise.all([w(this,void 0,void 0,function*(){if(y===0)return;const s=this.createDelay();for(let n=y;n>=0;n-=S)yield s(),u(Math.max(0,n-S),n)}),w(this,void 0,void 0,function*(){if(k===c)return;const s=this.createDelay();for(let n=k;n<c;n+=S)yield s(),u(n,Math.min(c,n+S))})]))})}render(e){return w(this,void 0,void 0,function*(){this.timeouts.forEach(c=>c()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const t=window.devicePixelRatio||1,i=this.scrollContainer.clientWidth,a=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=a>i;const r=this.options.fillParent&&!this.isScrollable,o=(r?i:a)*t;this.wrapper.style.width=r?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render");try{if(this.options.splitChannels)yield Promise.all(Array.from({length:e.numberOfChannels}).map((c,u)=>{var d;const l=Object.assign(Object.assign({},this.options),(d=this.options.splitChannels)===null||d===void 0?void 0:d[u]);return this.renderChannel([e.getChannelData(u)],l,o)}));else{const c=[e.getChannelData(0)];e.numberOfChannels>1&&c.push(e.getChannelData(1)),yield this.renderChannel(c,this.options,o)}}catch{return}this.emit("rendered")})}reRender(){if(!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:t}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:i}=this.progressWrapper.getBoundingClientRect();let a=i-t;a*=2,a=a<0?Math.floor(a):Math.ceil(a),a/=2,this.scrollContainer.scrollLeft+=a}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{scrollLeft:i,scrollWidth:a,clientWidth:r}=this.scrollContainer,o=e*a,c=i,u=i+r,d=r/2;if(this.isDragging)o+30>u?this.scrollContainer.scrollLeft+=30:o-30<c&&(this.scrollContainer.scrollLeft-=30);else{(o<c||o>u)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?d:0));const l=o-i-d;t&&this.options.autoCenter&&l>0&&(this.scrollContainer.scrollLeft+=Math.min(l,10))}{const l=this.scrollContainer.scrollLeft,m=l/a,f=(l+r)/a;this.emit("scroll",m,f)}}renderProgress(e,t){if(isNaN(e))return;const i=100*e;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${Math.round(i)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,t)}exportImage(e,t,i){return w(this,void 0,void 0,function*(){const a=this.canvasWrapper.querySelectorAll("canvas");if(!a.length)throw new Error("No waveform data");if(i==="dataURL"){const r=Array.from(a).map(o=>o.toDataURL(e,t));return Promise.resolve(r)}return Promise.all(Array.from(a).map(r=>new Promise((o,c)=>{r.toBlob(u=>{u?o(u):c(new Error("Could not export image"))},e,t)})))})}}q.MAX_CANVAS_WIDTH=4e3;class Ce extends H{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class we extends H{constructor(e=new AudioContext){super(),this.bufferNode=null,this.autoplay=!1,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return w(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(t=>{if(t.status>=400)throw new Error(`Failed to fetch ${e}: ${t.status} (${t.statusText})`);return t.arrayBuffer()}).then(t=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(t)).then(t=>{this.currentSrc===e&&(this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var e;if(!this.paused)return;this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.bufferNode.buffer=this.buffer,this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;t>=this.duration&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return w(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){var t,i;const a=e-this.currentTime;(t=this.bufferNode)===null||t===void 0||t.stop(this.audioContext.currentTime+a),(i=this.bufferNode)===null||i===void 0||i.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(e){return w(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){this.emit("seeking");const t=!this.paused;t&&this._pause(),this.playedDuration=e/this._playbackRate,t&&this._play(),this.emit("timeupdate")}get duration(){var e;return((e=this.buffer)===null||e===void 0?void 0:e.duration)||0}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const t=this.buffer.numberOfChannels;for(let i=0;i<t;i++)e.push(this.buffer.getChannelData(i));return e}}const xe={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class z extends be{static create(e){return new z(e)}constructor(e){const t=e.media||(e.backend==="WebAudio"?new we:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.options=Object.assign({},xe,e),this.timer=new Ce;const i=t?void 0:this.getMediaElement();this.renderer=new q(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins(),Promise.resolve().then(()=>{this.emit("init");const a=this.options.url||this.getSrc()||"";(a||this.options.peaks&&this.options.duration)&&this.load(a,this.options.peaks,this.options.duration)})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))}),this.renderer.on("dblclick",(e,t)=>{this.emit("dblclick",e,t)}),this.renderer.on("scroll",(e,t)=>{const i=this.getDuration();this.emit("scroll",e*i,t*i)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}));{let e;this.subscriptions.push(this.renderer.on("drag",t=>{this.options.interact&&(this.renderer.renderProgress(t),clearTimeout(e),e=setTimeout(()=>{this.seekTo(t)},this.isPlaying()?0:200),this.emit("interaction",t*this.getDuration()),this.emit("drag",t))}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(t=>{this.registerPlugin(t)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(t=>t!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getScroll(){return this.renderer.getScroll()}setScrollTime(e){const t=e/this.getDuration();this.renderer.setScrollPercentage(t)}getActivePlugins(){return this.plugins}loadAudio(e,t,i,a){return w(this,void 0,void 0,function*(){if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!t&&!i){const o=c=>this.emit("loading",c);t=yield ye.fetchBlob(e,o,this.options.fetchParams)}this.setSrc(e,t);const r=a||this.getDuration()||(yield new Promise(o=>{this.onceMediaEvent("loadedmetadata",()=>o(this.getDuration()))}));if(i)this.decodedData=J.createBuffer(i,r||0);else if(t){const o=yield t.arrayBuffer();this.decodedData=yield J.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,t,i){return w(this,void 0,void 0,function*(){yield this.loadAudio(e,void 0,t,i)})}loadBlob(e,t,i){return w(this,void 0,void 0,function*(){yield this.loadAudio("blob",e,t,i)})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const a=Math.min(e,this.decodedData.numberOfChannels),r=[];for(let o=0;o<a;o++){const c=this.decodedData.getChannelData(o),u=[],d=Math.round(c.length/t);for(let l=0;l<t;l++){const m=c.slice(l*d,(l+1)*d);let f=0;for(let v=0;v<m.length;v++){const y=m[v];Math.abs(y)>Math.abs(f)&&(f=y)}u.push(Math.round(f*i)/i)}r.push(u)}return r}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){super.setTime(e),this.updateProgress(e)}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}playPause(){return w(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(e="image/png",t=1,i="dataURL"){return w(this,void 0,void 0,function*(){return this.renderer.exportImage(e,t,i)})}destroy(){this.emit("destroy"),this.plugins.forEach(e=>e.destroy()),this.subscriptions.forEach(e=>e()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}z.BasePlugin=class extends H{constructor(p){super(),this.subscriptions=[],this.options=p}onInit(){}_init(p){this.wavesurfer=p,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(p=>p())}},z.dom=ve;const _e={class:"audio-timeline"},ke=j({__name:"AudioTimeline",props:{fileUrl:{}},setup(p){const e=p,t=$(),i=$(),a=$(""),r=$(!1),o=$(),c=Q(()=>"/pwa-test/"+e.fileUrl),u=()=>{var d;t.value&&((d=t.value)==null||d.playPause())};return Z(()=>{i.value&&c.value&&(t.value=z.create({container:i.value,waveColor:"#333131",progressColor:"#DE7A48",barWidth:2,barRadius:2,barGap:3,cursorWidth:0,hideScrollbar:!0,backend:"MediaElement",height:54,normalize:!0,dragToSeek:!1}),t.value.on("ready",()=>{if(!t.value)return;const d=t.value.getDuration();a.value=ce(d)}),t.value.on("play",()=>{r.value=!0,o.value&&clearTimeout(o.value)}),t.value.on("pause",()=>{r.value=!1}),t.value.on("seeking",d=>{var l;d>0&&((l=t.value)==null||l.play())}),t.value.on("finish",()=>{var d;(d=t.value)==null||d.stop()}),t.value.load(c.value),o.value=setTimeout(()=>{t.value&&!r.value&&t.value.play()},5e3))}),ie(()=>{t.value&&t.value.stop(),o.value&&clearTimeout(o.value)}),(d,l)=>(T(),W("div",_e,[D("button",{type:"button",class:"audio-timeline__play",onClick:u},[G(le,{name:r.value?"pause":"play"},null,8,["name"])]),D("div",{ref_key:"fileElRef",ref:i,class:"audio-timeline__file"},null,512),D("div",{ref:"durationRef",class:"audio-timeline__duration"},F(a.value),513)]))}}),Se=U(ke,[["__scopeId","data-v-490ab99c"]]),Ee={class:"slider"},Pe={class:"swiper-wrapper"},Le=["src"],Me=j({__name:"SliderImages",props:{images:{}},setup(p){const e="/pwa-test/",{t,locale:i}=se(),a=$(),r=$(),o=$(),c=$(),u=$();return ne(i,()=>{var d,l;(l=(d=u.value)==null?void 0:d.pagination)==null||l.update()}),Z(()=>{var d,l;u.value=new pe(a.value,{modules:[me,ge],slidesPerView:1,loop:!1,spaceBetween:12,navigation:{nextEl:(d=r.value)==null?void 0:d.$el,prevEl:(l=o.value)==null?void 0:l.$el},pagination:{el:c.value,type:"custom",renderCustom:function(m,f,v){return`${t("symbolsPage.paginationPhoto")} ${f} ${t("symbolsPage.paginationOf")} ${v}`}}})}),(d,l)=>{const m=fe;return T(),W("div",Ee,[D("div",{ref_key:"swiperRef",ref:a,class:"swiper"},[D("div",Pe,[(T(!0),W(ee,null,ae(d.images,(f,v)=>(T(),W("div",{key:v,class:"swiper-slide"},[D("img",{src:`${B(e)}${f}`,alt:"",class:"image",loading:"lazy"},null,8,Le)]))),128))]),D("div",{ref_key:"paginationRef",ref:c,class:"pagination"},null,512)],512),G(m,{ref_key:"sliderBtnPrevRef",ref:o,icon:"arrow-left-small",rounded:"",class:"slider-btn-prev"},null,512),G(m,{ref_key:"sliderBtnNextRef",ref:r,icon:"arrow-right-small",rounded:"",class:"slider-btn-next"},null,512)])}}}),De=U(Me,[["__scopeId","data-v-254ee0ca"]]),$e={class:"symbol-page"},Re={class:"symbol-page__title-wrap"},Te={class:"symbol-page__title"},Ae={class:"symbol-page__text"},Be={class:"symbol-page__audio"},We={key:1,class:"symbol-page__text _error"},Ne=j({__name:"[id]",setup(p){const e=re(),t=Q(()=>e.params.id),i=oe.find(a=>a.icon===t.value);return(a,r)=>(T(),W("div",$e,[B(i)?(T(),W(ee,{key:0},[D("div",Re,[D("h1",Te,F(a.$t(B(i).title)),1),D("div",Ae,F(a.$t(B(i).text)),1)]),D("div",Be,[B(i).audio?(T(),V(Se,{key:0,"file-url":B(i).audio},null,8,["file-url"])):X("",!0)]),B(i).images.length?(T(),V(De,{key:0,images:B(i).images,class:"symbol-page__slider"},null,8,["images"])):X("",!0)],64)):(T(),W("div",We,F(a.$t("symbolsPage.error")),1))]))}}),qe=U(Ne,[["__scopeId","data-v-cb7a0a1b"]]);export{qe as default};

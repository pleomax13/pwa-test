import{d as A,o as M,c as Y,e as d,t as x,_ as k,A as K,s as w,B as Z,z as tt,x as et,C as nt,h as $,j as z,E as st,b as O,F as ot,f as q,a as S}from"./index-vqFVyF1L.js";import{_ as it}from"./UiSvgIcon.vue_vue_type_script_setup_true_lang-7JPLBw4S.js";import{f as F}from"./formatSecond-BzP_z2hi.js";const at={class:"qr-card"},rt=["src"],ct={class:"qr-card__text"},ut=A({__name:"QrCard",props:{text:{},img:{}},setup(s){return(t,e)=>(M(),Y("div",at,[d("img",{src:t.img,alt:"",loading:"lazy",class:"qr-card__img"},null,8,rt),d("div",ct,x(t.text),1)]))}}),N=k(ut,[["__scopeId","data-v-f080f41b"]]);let lt=class{constructor(){this.__map={}}beforeEach(t){this.__interceptor=t}on(t,e){const n=Array.isArray(t)?t:[t];for(const a of n){this.__map[a]=this.__map[a]||[];const o=this.__map[a];o&&o.push(e)}return this}emit(t,e,n){this.__interceptor!==void 0?this.__interceptor(t,()=>{this.__emit(t,e),n&&n()}):(this.__emit(t,e),n&&n())}__emit(t,e){const n=this.__map[t];if(Array.isArray(n)&&(n!=null&&n.length))for(const a of n)a(e,t);this.event=e}off(t,e){const n=this.__map[t];if(n!==void 0)if(e===void 0)delete this.__map[t];else{const a=n.findIndex(o=>o===e);n.splice(a,1)}}destroy(){this.__map={}}};const C="clientX",X="clientY",dt=16,H="start",pt="move",Q="cancel",G="end",ht="left",mt="right",_t="up",gt="down",ft={4:"start",5:"move",1:"end",3:"cancel"};function vt(s){return ft[s]}function yt(s,t,e){const n={1:{0:{move:4},4:{move:5,end:1,cancel:3},5:{move:5,end:1,cancel:3}},0:{4:{move:2,end:1,cancel:3},5:{start:2,move:2,end:1,cancel:3}}}[Number(s)][t];return n!==void 0&&n[e]||0}function bt(s){[1,3,2].includes(s.state)&&(s.state=0)}function $t(s){return[5,1,3].includes(s)}function Et(s){if(s.disabled)return s.state=0,!0}function Mt(s,t){return Object.assign(Object.assign(Object.assign({},s),t),{state:0,disabled:!1})}function B(){let s,t,e,n,a=0;return function(o){if(s=t,o!==void 0){a=Number.MAX_SAFE_INTEGER>a?++a:1;const i=function(l,r){const{phase:p,points:h,changedPoints:m,nativeEvent:f}=l,_=h.length,v=H===p,y=G===p&&_===0||Q===p,L=Date.now(),{x:b,y:E}=U(h)||U(m),{currentTarget:T}=f;return Object.assign(l,{id:r,x:b,y:E,timestamp:L,isStart:v,isEnd:y,pointLength:_,currentTarget:T,getOffset(j=T){const P=j.getBoundingClientRect();return{x:b-Math.round(P.left),y:E-Math.round(P.top)}}})}(o,a);t=i;const{isStart:c,pointLength:u}=i;return c&&(e=i,s=void 0,n=1<u?i:void 0),Object.assign(Object.assign({},i),{prevInput:s,startMultiInput:n,startInput:e})}}}function U(s){const{length:t}=s;if(0<t){if(t===1){const{clientX:n,clientY:a}=s[0];return{x:Math.round(n),y:Math.round(a)}}const e=s.reduce((n,a)=>(n.x+=a[C],n.y+=a[X],n),{x:0,y:0});return{x:Math.round(e.x/t),y:Math.round(e.y/t)}}}function V(s,t,e,n){const a={};for(const i in e)["target","currentTarget","type"].includes(i)||(a[i]=e[i]);let o;return document.createEvent?(o=document.createEvent("HTMLEvents"),o.initEvent(s,n==null?void 0:n.bubbles,n==null?void 0:n.cancelable)):o=new Event(s,n),Object.assign(o,a,{match:()=>e.targets&&0<e.targets.length&&e.targets.every(i=>o.currentTarget.contains(i))}),t.dispatchEvent(o)}function Tt(s,t){const{preventDefault:e}=t;return n=e,Object.prototype.toString.call(n)==="[object Function]"?e(s):!!e;var n}const W=["touchstart","touchmove","touchend","touchcancel","mousedown"],R=["mousemove","mouseup"],Pt={domEvents:{bubbles:!0,cancelable:!0},preventDefault:s=>{if(s.target&&"tagName"in s.target){const{tagName:t}=s.target;return!/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/.test(t)}return!1}};class wt extends lt{constructor(t,e){super(),this.v="2.1.3",this.__computeFunctionList=[],this.__computeFunctionCreatorList=[],this.__pluginContexts=[],this.__isIgnoreMouse=!1,this.el=t,this.c={},this.__options=Object.assign(Object.assign({},Pt),e);const n=function(o){const i=B();return function(c){const u=[],l=[];Array.from(c.touches).forEach(({clientX:p,clientY:h,target:m})=>{o!=null&&o.contains(m)&&(u.push(m),l.push({clientX:p,clientY:h,target:m}))});const r=Array.from(c.changedTouches).map(({clientX:p,clientY:h,target:m})=>({clientX:p,clientY:h,target:m}));return i({phase:c.type.replace("touch",""),changedPoints:r,points:l,nativeEvent:c,target:c.target,targets:u})}}(this.el),a=function(){let o,i=!1,c=null;const u=B();return function(l){const{clientX:r,clientY:p,type:h,button:m,target:f}=l;let _,v=[{clientX:r,clientY:p,target:f}];if(h==="mousedown"&&m===0)c=f,i=!0,_="start";else{if(!i)return;h==="mousemove"?_="move":h==="mouseup"&&(v=[],_="end",i=!1)}const y=o||[{clientX:r,clientY:p,target:f}];if(o=[{clientX:r,clientY:p,target:f}],_!==void 0)return u({phase:_,changedPoints:y,points:v,target:c,targets:[c],nativeEvent:l})}}();if(this.__inputCreatorMap={touchstart:n,touchmove:n,touchend:n,touchcancel:n,mousedown:a,mousemove:a,mouseup:a},this.on("at:after",o=>{const{target:i,__type:c}=o,{domEvents:u}=this.__options;u&&this.el!==void 0&&i&&(V(c,i,o,u),V("at:after",i,o,u))}),t!==void 0){t.style.webkitTapHighlightColor="rgba(0,0,0,0)";let o=!1;try{const i={};Object.defineProperty(i,"passive",{get(){o=!0}}),window.addEventListener("_",()=>{},i)}catch{}this.on("u",function(i,c,u){return W.forEach(l=>{i.addEventListener(l,c,u)}),R.forEach(l=>{window.addEventListener(l,c,u)}),()=>{W.forEach(l=>{i.removeEventListener(l,c)}),R.forEach(l=>{window.removeEventListener(l,c)})}}(t,this.catchEvent.bind(this),this.__options.preventDefault===!1&&o?{passive:!0}:{passive:!1}))}}use(t,e){this.__pluginContexts.push(t(this,e))}catchEvent(t){const e=this.__inputCreatorMap[t.type](t);if(e!==void 0){const n=()=>t.stopPropagation(),a=()=>t.stopImmediatePropagation(),o=()=>t.preventDefault();if(Tt(t,this.__options))o();else if(t.type==="touchstart"?this.__isIgnoreMouse=!0:t.type==="touchmove"&&(this.__isIgnoreMouse=!1),this.__isIgnoreMouse&&t.type.startsWith("mouse"))return void(t.type==="mouseup"&&(this.__isIgnoreMouse=!1));this.emit("input",e),this.emit2(`at:${e.phase}`,e,{});const i={};this.__computeFunctionList.forEach(c=>{const u=c(e,i);if(u!==void 0)for(const l in u)i[l]=u[l]}),this.emit("computed",Object.assign(Object.assign(Object.assign({},e),i),{stopPropagation:n,stopImmediatePropagation:a,preventDefault:o}))}}compute(t,e){for(const n of t)this.__computeFunctionCreatorList.includes(n)||(this.__computeFunctionCreatorList.push(n),this.__computeFunctionList.push(n()));this.on("computed",e)}beforeEach(t){super.beforeEach((e,n)=>{var a;!((a=this.c)===null||a===void 0)&&a.name?t(e,n):n()})}get(t){return this.__pluginContexts.find(e=>t===e.name)}set(t){this.__options=Object.assign(Object.assign({},this.__options),t)}emit2(t,e,n){this.c=n,this.emit(t,Object.assign(Object.assign({},e),{type:t}),()=>{this.emit("at:after",Object.assign(Object.assign({},e),{name:t,__type:t}))})}destroy(){this.emit("u"),super.destroy()}}var xt=s=>Math.sqrt(s.x*s.x+s.y*s.y),Lt=s=>s/Math.PI*180,J=(s,t)=>{if(s!==0||t!==0)return Math.abs(s)>=Math.abs(t)?0<s?mt:ht:0<t?gt:_t};function jt(){return function(s){const{prevInput:t}=s;let e=0,n=0,a=0;if(t!==void 0&&(e=s.x-t.x,n=s.y-t.y,e!==0||n!==0)){const o=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));a=Math.round(Lt(Math.acos(Math.abs(e)/o)))}return{deltaX:e,deltaY:n,deltaXYAngle:a}}}function It(){let s,t=0,e=0,n=0,a=0,o=0;return function(i){const{phase:c,startInput:u}=i;return H===c?(t=0,e=0,n=0,a=0,o=0):pt===c&&(t=Math.round(i.points[0][C]-u.points[0][C]),e=Math.round(i.points[0][X]-u.points[0][X]),n=Math.abs(t),a=Math.abs(e),o=Math.round(xt({x:n,y:a})),s=J(t,e)),{displacementX:t,displacementY:e,distanceX:n,distanceY:a,distance:o,overallDirection:s}}}function Ot(){let s,t,e=0,n=0,a=0,o=0;return function(i){if(i!==void 0){t=t||i.startInput;const c=i.timestamp-t.timestamp;if(dt<c){const u=i.x-t.x,l=i.y-t.y;a=Math.round(u/c*100)/100,o=Math.round(l/c*100)/100,e=Math.abs(a),n=Math.abs(o),s=J(u,l),t=i}}return{velocityX:e,velocityY:n,speedX:a,speedY:o,direction:s}}}const Ct={name:"pan",threshold:10,pointLength:1};function Xt(s,t){const e=Mt(Ct,t);return s.compute([Ot,It,jt],n=>{if(bt(e),Et(e))return;const a=function(){const{pointLength:o,distance:i}=n;return e.pointLength===o&&e.threshold<=i}();if(e.state=yt(a,e.state,n.phase),a||$t(e.state)){const{name:o}=e;s.emit2(o,n,e),s.emit2(o+vt(e.state),n,e),![G,Q].includes(n.phase)&&n.direction&&s.emit2(o+n.direction,n,e)}}),e}const At={class:"audio-player__state"},Yt=["src"],kt={class:"audio-player__time _current"},Dt={class:"audio-player__time _total"},qt=["src"],St=200,Ft=A({__name:"AudioPlayer",props:{src:{}},setup(s){const t=s,{src:e}=K(t),n="/pwa-test/",a=w(),o=w(),i=w(),c=w();let u=null,l=null;const r=Z({isPlaying:!1,isDragging:!1,currentTime:0,totalTime:0,totalTimeStr:"0:00",isMuted:!1,volume:1,isVolumeDragging:!1}),p=()=>{r.isPlaying=!1,r.isDragging=!1,r.isVolumeDragging=!1,r.currentTime=0,r.totalTime=0,r.totalTimeStr="00:00"};tt(e,()=>p()),et(()=>{u=new wt(a.value||void 0,{preventDefault:!1}),u.use(Xt),o.value.load()}),nt(()=>{u&&u.destroy()});const h=()=>{y(),r.isPlaying=!1,b()},m=()=>{r.isPlaying=!1,b()},f=()=>{r.isPlaying=!0},_=g=>{v(g.target.duration)},v=g=>{r.totalTime=g,r.totalTimeStr=F(r.totalTime)},y=()=>{if(r.isDragging||!c.value||!o.value||!i.value)return;r.currentTime=o.value.currentTime;const g=o.value.currentTime/o.value.duration*100;i.value.style.width=`${g}%`},L=()=>{b(),l=window.setInterval(y,St),r.isPlaying=!0},b=()=>{l&&(window.clearInterval(l),l=null)},E=()=>{o.value.play().then(()=>{r.isPlaying=!0,L(),v(o.value.duration)}).catch(g=>{console.error(g)})},T=()=>{o.value.pause(),r.isPlaying=!1},j=()=>{r.isPlaying?T():E()},P=g=>{const{offsetX:D}=g;r.currentTime=D/c.value.offsetWidth*r.totalTime,o.value.currentTime=r.currentTime;const I=o.value.currentTime/o.value.duration*100;i.value.style.width=`${I}%`,E()};return(g,D)=>{const I=it;return M(),Y(ot,null,[d("div",{ref_key:"container",ref:a,class:"audio-player"},[d("div",At,[d("button",{class:"audio-player__play-button",onClick:j},[d("img",{src:`${$(n)}circle-play.gif`,alt:"",class:"audio-player__play-button-gif"},null,8,Yt),z(I,{name:r.isPlaying?"pause2":"play2"},null,8,["name"])]),d("div",{ref_key:"progressWrap",ref:c,class:"audio-player__progress-wrap",onClick:st(P,["stop"])},[d("div",{ref_key:"progress",ref:i,class:"audio-player__progress"},null,512)],512),O("",!0),d("div",kt,x($(F)(r.currentTime)),1),d("div",Dt,x(r.totalTimeStr),1)])],512),d("audio",{ref_key:"player",ref:o,src:$(e),preload:"metadata",onEnded:h,onPlay:f,onPause:m,onLoadedmetadata:_},null,40,qt)],64)}}}),Nt=k(Ft,[["__scopeId","data-v-0bddf66f"]]),Bt={class:"content"},Ut={class:"content__inner"},Vt={class:"more-page"},Wt={class:"more-page__title"},Rt={class:"audio-player"},zt=A({__name:"more",setup(s){const t="/pwa-test/";return(e,n)=>(M(),Y("div",Bt,[d("div",Ut,[q(e.$slots,"header",{link:"/symbols"},void 0,!0),d("div",Vt,[d("div",Wt,x(e.$t("morePage.title")),1),d("div",Rt,[z(Nt,{src:`${$(t)}Возойди.mp3`},null,8,["src"])]),e.$t("morePage.qr1")?(M(),S(N,{key:0,img:`${$(t)}qr.png`,text:e.$t("morePage.qr1"),class:"qr-card"},null,8,["img","text"])):O("",!0),e.$t("morePage.qr2")?(M(),S(N,{key:1,img:`${$(t)}qr.png`,text:e.$t("morePage.qr2"),class:"qr-card"},null,8,["img","text"])):O("",!0)])]),q(e.$slots,"footer",{link:"/",text:e.$t("morePage.btnText"),iconLeft:"arrow-left-big",btnLight:!0},void 0,!0)]))}}),Kt=k(zt,[["__scopeId","data-v-f73ddf12"]]);export{Kt as default};
